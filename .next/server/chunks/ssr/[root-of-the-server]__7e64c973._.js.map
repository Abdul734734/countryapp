{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/app/context/ThemeContext.jsx"],"sourcesContent":["\"use client\";\nimport { CssBaseline } from \"@mui/material\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport { createContext, useContext, useEffect, useState } from \"react\";\n\nconst ThemeContext = createContext(undefined);\n\nconst lightTheme = createTheme({\n  palette: {\n    mode: \"light\",\n    primary: {\n      main: \"#1976d0\",\n      light: \"#42a5f5\",\n      dark: \"#1565c0\",\n      contrastText: \"#ffffff\",\n    },\n    secondary: {\n      main: \"#9c27b0\",\n      light: \"#ba68c8\",\n      dark: \"#7b1fa2\",\n      contrastText: \"#ffffff\",\n    },\n    background: {\n      default: \"#ffffff\",\n      paper: \"#f5f5f5\",\n    },\n    text: {\n      primary: \"#212121\",\n      secondary: \"#757575\",\n    },\n  },\n  typography: {\n    fontFamily: [\n      \"Roboto\",\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n    ].join(\",\"),\n    h1: {\n      fontWeight: 300,\n      fontSize: \"2.5rem\",\n    },\n    h2: {\n      fontWeight: 400,\n      fontSize: \"2rem\",\n    },\n    h3: {\n      fontWeight: 400,\n      fontSize: \"1.75rem\",\n    },\n    h4: {\n      fontWeight: 500,\n      fontSize: \"1.5rem\",\n    },\n    h5: {\n      fontWeight: 500,\n      fontSize: \"1.25rem\",\n    },\n    h6: {\n      fontWeight: 500,\n      fontSize: \"1rem\",\n    },\n  },\n  components: {\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          textTransform: \"none\",\n          borderRadius: 8,\n        },\n      },\n    },\n    MuiCard: {\n      styleOverrides: {\n        root: {\n          borderRadius: 12,\n          boxShadow: \"0 2px 8px rgba(0,0,0,0.1)\",\n        },\n      },\n    },\n  },\n});\n\n// Define dark theme\nconst darkTheme = createTheme({\n  palette: {\n    mode: \"dark\",\n    primary: {\n      main: \"#90caf9\",\n      light: \"#e3f2fd\",\n      dark: \"#42a5f5\",\n      contrastText: \"#000000\",\n    },\n    secondary: {\n      main: \"#ce93d8\",\n      light: \"#f3e5f5\",\n      dark: \"#ab47bc\",\n      contrastText: \"#000000\",\n    },\n    background: {\n      default: \"#121212\",\n      paper: \"#1e1e1e\",\n    },\n    text: {\n      primary: \"#ffffff\",\n      secondary: \"#b0b0b0\",\n    },\n  },\n  typography: {\n    fontFamily: [\n      \"Roboto\",\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n    ].join(\",\"),\n    h1: {\n      fontWeight: 300,\n      fontSize: \"2.5rem\",\n    },\n    h2: {\n      fontWeight: 400,\n      fontSize: \"2rem\",\n    },\n    h3: {\n      fontWeight: 400,\n      fontSize: \"1.75rem\",\n    },\n    h4: {\n      fontWeight: 500,\n      fontSize: \"1.5rem\",\n    },\n    h5: {\n      fontWeight: 500,\n      fontSize: \"1.25rem\",\n    },\n    h6: {\n      fontWeight: 500,\n      fontSize: \"1rem\",\n    },\n  },\n  components: {\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          textTransform: \"none\",\n          borderRadius: 8,\n        },\n      },\n    },\n    MuiCard: {\n      styleOverrides: {\n        root: {\n          borderRadius: 12,\n          boxShadow: \"0 2px 8px rgba(0,0,0,0.3)\",\n        },\n      },\n    },\n  },\n});\n\nexport function CustomThemeProvider({ children }) {\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [isHydrated, setIsHydrated] = useState(false);\n\n  useEffect(() => {\n    // Mark as hydrated first\n    setIsHydrated(true);\n\n    const savedTheme = localStorage.getItem(\"theme-mode\");\n    if (savedTheme) {\n      setIsDarkMode(savedTheme === \"dark\");\n    } else {\n      // Check system preference:\n      const prefersDark = window.matchMedia(\n        \"(prefers-color-scheme: dark)\"\n      ).matches;\n      setIsDarkMode(prefersDark);\n    }\n  }, []);\n\n  // Save theme preference when it changes\n  useEffect(() => {\n    if (isHydrated) {\n      localStorage.setItem(\"theme-mode\", isDarkMode ? \"dark\" : \"light\");\n    }\n  }, [isDarkMode, isHydrated]);\n\n  const toggleTheme = () => {\n    setIsDarkMode((prev) => !prev);\n  };\n\n  // Use light theme as default until hydrated to prevent mismatch\n  const currentTheme = isHydrated\n    ? isDarkMode\n      ? darkTheme\n      : lightTheme\n    : lightTheme;\n\n  const value = {\n    isDarkMode: isHydrated ? isDarkMode : false,\n    toggleTheme,\n    theme: currentTheme,\n    isHydrated,\n  };\n\n  return (\n    <ThemeContext.Provider value={value}>\n      <ThemeProvider theme={currentTheme}>\n        <CssBaseline />\n        {children}\n      </ThemeProvider>\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error(\"useTheme must be used within a Theme Provider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/components/ThemeToggle.jsx"],"sourcesContent":["\"use client\";\n\nimport { useTheme } from \"@/app/context/ThemeContext\";\nimport { Brightness4, Brightness7 } from \"@mui/icons-material\";\nimport { IconButton } from \"@mui/material\";\n\nexport default function ThemeToggle() {\n  const { isDarkMode, toggleTheme, isHydrated } = useTheme();\n\n  // Don't render until hydrated to prevent mismatch\n  if (!isHydrated) {\n    return (\n      <IconButton disabled>\n        <Brightness4 />\n      </IconButton>\n    );\n  }\n\n  return (\n    <IconButton onClick={toggleTheme}>\n      {isDarkMode ? <Brightness7 /> : <Brightness4 />}\n    </IconButton>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,UAAU,EAAE,GAAG,IAAA,6KAAQ;IAExD,kDAAkD;IAClD,IAAI,CAAC,YAAY;QACf,qBACE,yQAAC,sPAAU;YAAC,QAAQ;sBAClB,cAAA,yQAAC,sMAAW;;;;;;;;;;IAGlB;IAEA,qBACE,yQAAC,sPAAU;QAAC,SAAS;kBAClB,2BAAa,yQAAC,sMAAW;;;;iCAAM,yQAAC,sMAAW;;;;;;;;;;AAGlD","debugId":null}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/lib/supabase/supabase.js"],"sourcesContent":["// create a supabase client connection\nimport { createClient } from \"@supabase/supabase-js\";\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n);\n"],"names":[],"mappings":"AAAA,sCAAsC;;;;;AACtC;;AAEO,MAAM,WAAW,IAAA,kOAAY","debugId":null}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/app/context/AuthContext.jsx"],"sourcesContent":["\"use client\";\nimport { supabase } from \"@/lib/supabase/supabase\";\nimport { createContext, useContext, useEffect, useState } from \"react\";\n\nconst AuthContext = createContext(undefined);\n\nexport function AuthProvider({ children }) {\n  const [session, setSession] = useState(null);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Get initial session\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    // Listen for auth changes\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      setLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n  };\n\n  const value = {\n    session,\n    user,\n    loading,\n    signOut,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAFA;;;;AAIA,MAAM,4BAAc,IAAA,iPAAa,EAAC;AAE3B,SAAS,aAAa,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4OAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,4OAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4OAAQ,EAAC;IAEvC,IAAA,6OAAS,EAAC;QACR,sBAAsB;QACtB,yKAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;YACpD,WAAW;YACX,QAAQ,SAAS,QAAQ;YACzB,WAAW;QACb;QAEA,0BAA0B;QAC1B,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,yKAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,QAAQ;YAC3C,WAAW;YACX,QAAQ,SAAS,QAAQ;YACzB,WAAW;QACb;QAEA,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG,EAAE;IAEL,MAAM,UAAU;QACd,MAAM,yKAAQ,CAAC,IAAI,CAAC,OAAO;IAC7B;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;IACF;IAEA,qBAAO,yQAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,8OAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/components/Navigaton.jsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport ThemeToggle from \"./ThemeToggle\";\n\nconst { useAuth } = require(\"@/app/context/AuthContext\");\nconst { AppBar, Toolbar, Button } = require(\"@mui/material\");\n\nconst Navigation = ({ children }) => {\n  const { user, signOut } = useAuth();\n  const router = useRouter();\n\n  return (\n    <div>\n      <AppBar position=\"static\" color=\"gradient\" sx={{ mb: 3 }}>\n        <Toolbar>\n          <Button color=\"inherit\" onClick={() => router.push(\"/countries\")}>\n            Countries\n          </Button>\n          <Button color=\"inherit\" onClick={() => router.push(\"/example\")}>\n            Example\n          </Button>\n          <Button color=\"inherit\" onClick={() => router.push(\"/protected\")}>\n            Protected\n          </Button>\n          {user && (\n            <Button color=\"inherit\" onClick={() => signOut()}>\n              Logout\n            </Button>\n          )}\n          {user && (\n            <Button color=\"inherit\" onClick={() => router.push(\"/profile\")}>\n              Profile\n            </Button>\n          )}\n          {!user && (\n            <Button color=\"inherit\" onClick={() => router.push(\"/login\")}>\n              Login\n            </Button>\n          )}\n          <ThemeToggle />\n        </Toolbar>\n      </AppBar>\n      {children}\n    </div>\n  );\n};\n\nexport default Navigation;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,EAAE,OAAO,EAAE;AACjB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE;AAEjC,MAAM,aAAa,CAAC,EAAE,QAAQ,EAAE;IAC9B,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG;IAC1B,MAAM,SAAS,IAAA,0KAAS;IAExB,qBACE,yQAAC;;0BACC,yQAAC;gBAAO,UAAS;gBAAS,OAAM;gBAAW,IAAI;oBAAE,IAAI;gBAAE;0BACrD,cAAA,yQAAC;;sCACC,yQAAC;4BAAO,OAAM;4BAAU,SAAS,IAAM,OAAO,IAAI,CAAC;sCAAe;;;;;;sCAGlE,yQAAC;4BAAO,OAAM;4BAAU,SAAS,IAAM,OAAO,IAAI,CAAC;sCAAa;;;;;;sCAGhE,yQAAC;4BAAO,OAAM;4BAAU,SAAS,IAAM,OAAO,IAAI,CAAC;sCAAe;;;;;;wBAGjE,sBACC,yQAAC;4BAAO,OAAM;4BAAU,SAAS,IAAM;sCAAW;;;;;;wBAInD,sBACC,yQAAC;4BAAO,OAAM;4BAAU,SAAS,IAAM,OAAO,IAAI,CAAC;sCAAa;;;;;;wBAIjE,CAAC,sBACA,yQAAC;4BAAO,OAAM;4BAAU,SAAS,IAAM,OAAO,IAAI,CAAC;sCAAW;;;;;;sCAIhE,yQAAC,uKAAW;;;;;;;;;;;;;;;;YAGf;;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/lib/features/countries/countriesSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst api =\n  \"https://restcountries.com/v3.1/all?fields=name,flags,population,currencies,capital,languages,region,subregion,area,timezones\";\n\nconst initialState = {\n  countries: [],\n  selectedCountry: null,\n  loading: false,\n  error: null,\n};\n\nexport const fetchCountries = createAsyncThunk(\n  \"countries/countries\",\n  async () => {\n    const response = await axios.get(api);\n    console.log(\"status: \", response.status);\n    console.log(\"Response: \", response.data);\n    return response.data;\n  }\n);\n\nexport const selectCountryByName = (state, countryName) => {\n  return state.countries.countries.find(\n    (country) =>\n      country.name.common.toLowerCase() === countryName.toLowerCase() ||\n      country.name.official.toLowerCase() === countryName.toLowerCase()\n  );\n};\n\nexport const countriesSlice = createSlice({\n  name: \"countries\",\n  initialState,\n  reducers: {\n    setSelectedCountry: (state, action) => {\n      state.selectedCountry = action.payload;\n      state.error = null;\n    },\n    clearSelectedCountry: (state) => {\n      state.selectedCountry = null;\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchCountries.fulfilled, (state, action) => {\n      state.countries = action.payload;\n    });\n  },\n});\n\nexport const { setSelectedCountry, clearSelectedCountry } =\n  countriesSlice.actions;\n\nexport default countriesSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,MACJ;AAEF,MAAM,eAAe;IACnB,WAAW,EAAE;IACb,iBAAiB;IACjB,SAAS;IACT,OAAO;AACT;AAEO,MAAM,iBAAiB,IAAA,0OAAgB,EAC5C,uBACA;IACE,MAAM,WAAW,MAAM,2KAAK,CAAC,GAAG,CAAC;IACjC,QAAQ,GAAG,CAAC,YAAY,SAAS,MAAM;IACvC,QAAQ,GAAG,CAAC,cAAc,SAAS,IAAI;IACvC,OAAO,SAAS,IAAI;AACtB;AAGK,MAAM,sBAAsB,CAAC,OAAO;IACzC,OAAO,MAAM,SAAS,CAAC,SAAS,CAAC,IAAI,CACnC,CAAC,UACC,QAAQ,IAAI,CAAC,MAAM,CAAC,WAAW,OAAO,YAAY,WAAW,MAC7D,QAAQ,IAAI,CAAC,QAAQ,CAAC,WAAW,OAAO,YAAY,WAAW;AAErE;AAEO,MAAM,iBAAiB,IAAA,qOAAW,EAAC;IACxC,MAAM;IACN;IACA,UAAU;QACR,oBAAoB,CAAC,OAAO;YAC1B,MAAM,eAAe,GAAG,OAAO,OAAO;YACtC,MAAM,KAAK,GAAG;QAChB;QACA,sBAAsB,CAAC;YACrB,MAAM,eAAe,GAAG;YACxB,MAAM,KAAK,GAAG;QAChB;IACF;IACA,eAAe,CAAC;QACd,QAAQ,OAAO,CAAC,eAAe,SAAS,EAAE,CAAC,OAAO;YAChD,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;IACF;AACF;AAEO,MAAM,EAAE,kBAAkB,EAAE,oBAAoB,EAAE,GACvD,eAAe,OAAO;uCAET,eAAe,OAAO","debugId":null}},
    {"offset": {"line": 650, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/lib/features/favourites/favouritesSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  favourites: [],\n  loading: false,\n};\n\nconst getCurrentSession = async () => {\n  const { supabase } = await import(\"../../supabase/supabase\");\n  const {\n    data: { session },\n    error,\n  } = await supabase.auth.getSession();\n\n  if (error || !session?.access_token) {\n    throw new Error(\"No valid authentication session found\");\n  }\n\n  return session;\n};\n\nexport const fetchFavourites = createAsyncThunk(\n  \"favourites/fetchFavourites\",\n  async (_, { rejectWithValue }) => {\n    try {\n      await getCurrentSession();\n      const { supabase } = await import(\"../../supabase/supabase\");\n      const { data, error } = await supabase\n        .from(\"favourites\") // table name\n        .select(\"*\") // selects all fields and rows\n        .order(\"created_at\", { ascending: false }); // order by created_at in descending order\n\n      if (error) throw error;\n\n      // Clean up inconsistent data: ensure country_name is always a simple string\n      const cleanedData = await Promise.all(\n        data?.map(async (favourite) => {\n          if (typeof favourite.country_name === \"string\") {\n            try {\n              // If it's a JSON string, extract the common name\n              const parsedName = JSON.parse(favourite.country_name);\n              if (parsedName.common) {\n                // Update the database record to use simple string format\n                await supabase\n                  .from(\"favourites\")\n                  .update({ country_name: parsedName.common })\n                  .eq(\"id\", favourite.id);\n\n                return { ...favourite, country_name: parsedName.common };\n              }\n            } catch {\n              // Already a simple string, no change needed\n            }\n          }\n          return favourite;\n        }) || []\n      );\n\n      return cleanedData || data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const addFavourite = createAsyncThunk(\n  \"favourites/addFavourite\",\n  async (countryData, { rejectWithValue }) => {\n    try {\n      const session = await getCurrentSession();\n      const { supabase } = await import(\"../../supabase/supabase\");\n      const { data, error } = await supabase\n        .from(\"favourites\")\n        .insert({\n          user_id: session.user.id,\n          country_name: countryData.name.common, // store only the common name string\n          country_data: countryData, // field name in the database country_data\n        })\n        .select()\n        .single(); // single row is returned\n\n      if (error) throw error;\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\n// remove favourite\n\nexport const removeFavourite = createAsyncThunk(\n  \"favourites/removeFavourite\",\n  async (countryName, { rejectWithValue }) => {\n    try {\n      await getCurrentSession();\n      const { supabase } = await import(\"../../supabase/supabase\");\n\n      const { data, error } = await supabase\n        .from(\"favourites\")\n        .delete()\n        .eq(\"country_name\", countryName);\n\n      if (error) throw error;\n      return countryName;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst favouritesSlice = createSlice({\n  name: \"favourites\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchFavourites.fulfilled, (state, action) => {\n        state.favourites = action.payload;\n        state.loading = false;\n      })\n      .addCase(fetchFavourites.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(addFavourite.fulfilled, (state, action) => {\n        state.favourites.push(action.payload);\n        state.loading = false;\n      })\n      .addCase(addFavourite.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(removeFavourite.fulfilled, (state, action) => {\n        state.favourites = state.favourites.filter(\n          (favourite) => favourite.country_name !== action.payload\n        );\n        state.loading = false;\n      })\n      .addCase(removeFavourite.pending, (state) => {\n        state.loading = true;\n      });\n  },\n});\n\nexport default favouritesSlice.reducer;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 765, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/lib/features/profile/profileSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  profile: null,\n  loading: false,\n  error: null,\n  updating: false,\n};\n\n// Async thunk to fetch user profile\nexport const fetchProfile = createAsyncThunk(\n  \"profile/fetchProfile\",\n  async (_, { rejectWithValue }) => {\n    try {\n      // Import supabase client to get current session\n      const { supabase } = await import(\"@/lib/supabase/supabase\");\n      const {\n        data: { session },\n        error: sessionError,\n      } = await supabase.auth.getSession();\n\n      if (sessionError || !session?.access_token) {\n        throw new Error(\"No valid authentication session found\");\n      }\n\n      const response = await fetch(\"/api/profile\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${session.access_token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Failed to fetch profile\");\n      }\n\n      const data = await response.json();\n      return data.profile;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\n// Async thunk to update user profile\nexport const updateProfile = createAsyncThunk(\n  \"profile/updateProfile\",\n  async (profileData, { rejectWithValue }) => {\n    try {\n      // Import supabase client to get current session\n      const { supabase } = await import(\"@/lib/supabase/supabase\");\n      const {\n        data: { session },\n        error: sessionError,\n      } = await supabase.auth.getSession();\n\n      if (sessionError || !session?.access_token) {\n        throw new Error(\"No valid authentication session found\");\n      }\n\n      const response = await fetch(\"/api/profile\", {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${session.access_token}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(profileData),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Failed to update profile\");\n      }\n\n      const data = await response.json();\n      return data.profile;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\n// Async thunk to upload avatar\nexport const uploadAvatar = createAsyncThunk(\n  \"profile/uploadAvatar\",\n  async (file, { rejectWithValue }) => {\n    try {\n      // Import supabase client to get current session\n      const { supabase } = await import(\"@/lib/supabase/supabase\");\n      const {\n        data: { session },\n        error: sessionError,\n      } = await supabase.auth.getSession();\n\n      if (sessionError || !session?.access_token) {\n        throw new Error(\"No valid authentication session found\");\n      }\n\n      const formData = new FormData();\n      formData.append(\"avatar\", file);\n\n      const response = await fetch(\"/api/profile/avatar\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${session.access_token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || \"Failed to upload avatar\");\n      }\n\n      const data = await response.json();\n      return data.avatar_url;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst profileSlice = createSlice({\n  name: \"profile\",\n  initialState,\n  reducers: {\n    clearProfile: (state) => {\n      state.profile = null;\n      state.error = null;\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    setProfile: (state, action) => {\n      state.profile = action.payload;\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Fetch profile\n      .addCase(fetchProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        state.profile = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchProfile.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      // Update profile\n      .addCase(updateProfile.pending, (state) => {\n        state.updating = true;\n        state.error = null;\n      })\n      .addCase(updateProfile.fulfilled, (state, action) => {\n        state.updating = false;\n        state.profile = action.payload;\n        state.error = null;\n      })\n      .addCase(updateProfile.rejected, (state, action) => {\n        state.updating = false;\n        state.error = action.payload;\n      })\n      // Upload avatar\n      .addCase(uploadAvatar.pending, (state) => {\n        state.updating = true;\n        state.error = null;\n      })\n      .addCase(uploadAvatar.fulfilled, (state, action) => {\n        state.updating = false;\n        if (state.profile) {\n          state.profile.avatar_url = action.payload;\n        }\n        state.error = null;\n      })\n      .addCase(uploadAvatar.rejected, (state, action) => {\n        state.updating = false;\n        state.error = action.payload;\n      });\n  },\n});\n\n// Selectors\nexport const selectProfile = (state) => state.profile.profile;\nexport const selectProfileLoading = (state) => state.profile.loading;\nexport const selectProfileUpdating = (state) => state.profile.updating;\nexport const selectProfileError = (state) => state.profile.error;\n\nexport const { clearProfile, clearError, setProfile } = profileSlice.actions;\n\nexport default profileSlice.reducer;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/lib/store.js"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\nimport countriesReducer from \"./features/countries/countriesSlice\";\nimport favouritesReducer from \"./features/favourites/favouritesSlice\";\nimport profileReducer from \"./features/profile/profileSlice\";\n\nexport const makeStore = () => {\n  return configureStore({\n    reducer: {\n      countries: countriesReducer,\n      favourites: favouritesReducer,\n      profile: profileReducer,\n    },\n  });\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,YAAY;IACvB,OAAO,IAAA,wOAAc,EAAC;QACpB,SAAS;YACP,WAAW,2LAAgB;YAC3B,YAAY,6LAAiB;YAC7B,SAAS,uLAAc;QACzB;IACF;AACF","debugId":null}},
    {"offset": {"line": 965, "column": 0}, "map": {"version":3,"sources":["file:///Users/s2500150/Desktop/country%20app/src/app/StoreProvider.jsx"],"sourcesContent":["\"use client\";\nimport { makeStore } from \"@/lib/store\";\nimport { useRef } from \"react\";\nimport { Provider } from \"react-redux\";\n\nexport default function StoreProvider({ children }) {\n  const storeRef = useRef(null);\n  if (!storeRef.current) {\n    storeRef.current = makeStore();\n  }\n\n  return <Provider store={storeRef.current}>{children}</Provider>;\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS,cAAc,EAAE,QAAQ,EAAE;IAChD,MAAM,WAAW,IAAA,0OAAM,EAAC;IACxB,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,SAAS,OAAO,GAAG,IAAA,2JAAS;IAC9B;IAEA,qBAAO,yQAAC,gMAAQ;QAAC,OAAO,SAAS,OAAO;kBAAG;;;;;;AAC7C","debugId":null}}]
}